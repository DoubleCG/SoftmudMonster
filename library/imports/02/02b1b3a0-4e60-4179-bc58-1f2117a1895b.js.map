{"version":3,"sources":["..\\..\\..\\..\\assets\\scripts/assets\\scripts\\panelRole.js"],"names":["UserDataManager","require","AudioManger","cc","Class","extends","Component","properties","surValue","default","type","Label","attrJumpDurationValue","attrAccelValue","onLoad","roleArg","getRoleArg","updatePlayerAttr","start","string","sur","jumpDuration","accel","canAddAttr","canSubAttr","maxArgNum","playAttrAudio","bool","instance","play","addPlayerJumpDuration","subPlayerJumpDuration","addPlayerAccel","subPlayerAccel","open","node","active","close","setRoleArg"],"mappings":"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","file":"panelRole.js","sourceRoot":"..\\..\\..\\..\\assets\\scripts","sourcesContent":["let UserDataManager = require(\"UserDataManager\");\r\nlet AudioManger = require(\"AudioManager\");\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        surValue: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        attrJumpDurationValue: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n        attrAccelValue: {\r\n            default: null,\r\n            type: cc.Label\r\n        },\r\n    },\r\n\r\n    onLoad() {\r\n        this.roleArg = UserDataManager.getRoleArg();\r\n        this.updatePlayerAttr();\r\n    },\r\n\r\n    start() {\r\n\r\n    },\r\n    updatePlayerAttr() {\r\n        this.surValue.string = '剩余点数：' + this.roleArg.sur;\r\n        this.attrJumpDurationValue.string = this.roleArg.jumpDuration;\r\n        this.attrAccelValue.string = this.roleArg.accel;\r\n    },\r\n    canAddAttr() {\r\n        if (this.roleArg.sur === 0) {\r\n            return false;\r\n        } else {\r\n            this.roleArg.sur--;\r\n            return true;\r\n        }\r\n    },\r\n    canSubAttr() {\r\n        if (this.roleArg.sur > this.roleArg.maxArgNum - 1) {\r\n            return false;\r\n        } else {\r\n            this.roleArg.sur++;\r\n            return true;\r\n        }\r\n    },\r\n    playAttrAudio(bool) {\r\n        AudioManger.instance.play(bool?\"canAttr\":\"cannotAttr\");\r\n        return bool;\r\n    },\r\n\r\n    addPlayerJumpDuration() {\r\n        if (this.playAttrAudio(this.roleArg.jumpDuration < 20 && this.canAddAttr())) {\r\n            this.roleArg.jumpDuration++;\r\n            this.updatePlayerAttr();\r\n        }\r\n    },\r\n    subPlayerJumpDuration() {\r\n        if (this.playAttrAudio(this.roleArg.jumpDuration > 0 && this.canSubAttr())) {\r\n            this.roleArg.jumpDuration--;\r\n            this.updatePlayerAttr();\r\n        }\r\n    },\r\n    addPlayerAccel() {\r\n        if (this.playAttrAudio(this.roleArg.accel < 20 && this.canAddAttr())) {\r\n            this.roleArg.accel++;\r\n            this.updatePlayerAttr();\r\n        }\r\n    },\r\n    subPlayerAccel() {\r\n        if (this.playAttrAudio(this.roleArg.accel > 0 && this.canSubAttr())) {\r\n            this.roleArg.accel--;\r\n            this.updatePlayerAttr();\r\n        }\r\n    },\r\n\r\n\r\n    open() {\r\n        this.node.active = true;\r\n    },\r\n\r\n    close() {\r\n        this.node.active = false;\r\n        UserDataManager.setRoleArg(this.roleArg);\r\n    }\r\n});\r\n"]}